(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6c7c73c"],{"05b1":function(e,t,a){e.exports=a.p+"static/img/pool.9389a4a1.png"},1148:function(e,t,a){"use strict";var r=a("da84"),n=a("5926"),s=a("577e"),o=a("1d80"),c=r.RangeError;e.exports=function(e){var t=s(o(this)),a="",r=n(e);if(r<0||r==1/0)throw c("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(a+=t);return a}},b680:function(e,t,a){"use strict";var r=a("23e7"),n=a("da84"),s=a("e330"),o=a("5926"),c=a("408a"),i=a("1148"),l=a("d039"),u=n.RangeError,d=n.String,p=Math.floor,m=s(i),w=s("".slice),f=s(1..toFixed),h=function(e,t,a){return 0===t?a:t%2===1?h(e,t-1,a*e):h(e*e,t/2,a)},v=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},b=function(e,t,a){var r=-1,n=a;while(++r<6)n+=t*e[r],e[r]=n%1e7,n=p(n/1e7)},k=function(e,t){var a=6,r=0;while(--a>=0)r+=e[a],e[a]=p(r/t),r=r%t*1e7},g=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var r=d(e[t]);a=""===a?r:a+m("0",7-r.length)+r}return a},C=l((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!l((function(){f({})}));r({target:"Number",proto:!0,forced:C},{toFixed:function(e){var t,a,r,n,s=c(this),i=o(e),l=[0,0,0,0,0,0],p="",f="0";if(i<0||i>20)throw u("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return d(s);if(s<0&&(p="-",s=-s),s>1e-21)if(t=v(s*h(2,69,1))-69,a=t<0?s*h(2,-t,1):s/h(2,t,1),a*=4503599627370496,t=52-t,t>0){b(l,0,a),r=i;while(r>=7)b(l,1e7,0),r-=7;b(l,h(10,r,1),0),r=t-1;while(r>=23)k(l,1<<23),r-=23;k(l,1<<r),b(l,1,1),k(l,2),f=g(l)}else b(l,0,a),b(l,1<<-t,0),f=g(l)+m("0",i);return i>0?(n=f.length,f=p+(n<=i?"0."+m("0",i-n)+f:w(f,0,n-i)+"."+w(f,n-i))):f=p+f,f}})},b798:function(e,t,a){},c106:function(e,t,a){"use strict";a("b798")},c1a3:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home poolContent home70"},[e._m(0),a("div",{staticClass:"pool-title centerText"},[e._v(" "+e._s(e.$t("Stake"))+" "+e._s(e.pool.stake)+" "+e._s(e.$t("Earn"))+" "+e._s(e.pool.earn)+" "+e._s(e.pool.projectName?"("+e.$t(e.pool.projectName)+")":"")+" ")]),a("div",{staticClass:"bigcontent"},[a("div",{staticClass:"poolWithdraw contentleft1"},[a("div",{staticClass:"poolWithdrawContent"},[a("span",{staticClass:"poolWithdrawContentRow"},[e._v(" "+e._s(e.$t("Vesting"))+" ")]),a("span",{staticClass:"poolWithdrawContentRow num"},[e._v(" "+e._s(e.vesting)+" "+e._s(e.pool.earn)+" ")]),a("span",{staticClass:"poolWithdrawContentRow"},[e._v(" "+e._s(e.$t("Withdrawable"))+" ")]),a("span",{staticClass:"poolWithdrawContentRow num"},[e._v(" "+e._s(e.withdrawable)+" "+e._s(e.pool.earn)+" ")])]),a("div",{staticClass:"centerText",class:e.withdrawBtnClass,on:{click:e.withdraw}},[e._v(e._s(e.$t("Withdraw")))])]),a("div",{staticClass:"poolAddOrRemove contentRight"},[a("div",{staticClass:"poolAddOrRemoveRow"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmNum,expression:"confirmNum"}],staticClass:"input",attrs:{type:"number",placeholder:"0"},domProps:{value:e.confirmNum},on:{input:function(t){t.target.composing||(e.confirmNum=t.target.value)}}}),a("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.pool.stakeIcon}}),a("div",{staticClass:"coinName"},[a("span",[e._v(e._s(e.pool.stake))])])]),a("div",{staticClass:"poolAddOrRemoveRow"},[a("span",[e._v(e._s(e.$t("Balance"))+": "+e._s(e.balance))]),a("div",{staticClass:"max",on:{click:e.max}},[e._v(e._s(e.$t("Max")))])]),a("div",{staticClass:"poolAddOrRemoveRow"},[a("div",{class:e.addclass,on:{click:e.add}},[a("div",{staticClass:"centerText"},[e._v(e._s(e.$t("Add")))])]),a("div",{class:e.removeclass,on:{click:e.remove}},[a("div",{staticClass:"centerText"},[e._v(" "+e._s("0xDd07987F56695DD1A685CA5D15f6F9a4863af048"===e.contractAddress?e.$t("removeall"):e.$t("Remove"))+" ")])])]),a("div",{staticClass:"poolConfirm centerText",on:{click:function(t){"Approve"==e.poolConfirm?e.approve():e.staking()}}},[e._v(e._s(e.$t(e.poolConfirm))+" ")]),a("div",{staticClass:"flex justify-center p"},[e._v("Deposit fee: 0%, Withdrawal fee: 0%")])]),a("div",{staticClass:"poolStatistics contentleft2"},[a("div",{staticClass:"poolStatisticsRow"},[a("div",{staticClass:"poolStatisticsTitle"},[a("span",[e._v(e._s(e.$t("APR")))])]),a("div",{staticClass:"poolStatisticsContent"},[a("span",[e._v(e._s(e.apr)+" %")])])]),a("div",{staticClass:"poolStatisticsRow"},[a("div",{staticClass:"poolStatisticsTitle"},[a("span",[e._v(e._s(e.$t("Liquidity")))])]),a("div",{staticClass:"poolStatisticsContent"},[a("span",[e._v(e._s(e.liquidity)+" "+e._s(e.pool.stake))])])])]),a("p",[e._v(" "+e._s(e.$t("poolruler",[e.pool.days?e.pool.days:"180",e.pool.time?e.pool.time:"3"]))+" ")])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"header"},[r("img",{staticClass:"titleImg",attrs:{src:a("05b1"),alt:""}})])}],s=a("1da1"),o=(a("96cf"),a("b680"),a("a9e3"),a("d3b7"),a("25f0"),a("d399")),c=a("b775"),i=a("a232"),l=a("901e");l.config({POW_PRECISION:100,EXPONENTIAL_AT:[-20,80]});var u={data:function(){return{network:"bsc",addclass:"selected",removeclass:"noselected margin-left-4",contractAddress:null,airdropList:[],pool:null,poolContract:null,stakeTokenContract:null,liquidity:0,vesting:0,withdrawable:0,withdrawBtnClass:"poolWithdrawBtn",apr:0,balance:0,confirmNum:0,poolConfirm:"Approve"}},created:function(){this.network=this.$route.query.network,this.pool=this.$config.project.pools[this.network][this.$route.query.index],this.contractAddress=this.pool.contractAddress,this.getPoolUserData(this.contractAddress)},methods:{getPoolUserData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.poolContract=new t.$web3Obj.web3.eth.Contract(t.$config.abi.MiningWithToken,e),a.next=3,t.poolContract.methods.getUserInfo(t.$web3Obj.currentAddress).call();case 3:return r=a.sent,a.next=6,t.poolContract.methods.overview().call();case 6:return n=a.sent,t.vesting=r._currentPending,t.vesting=Object(i["transformationNumber"])(t.vesting),t.withdrawable=r._rewardWithdrawable,t.withdrawable=Object(i["transformationNumber"])(t.withdrawable),t.withdrawable>0&&(t.withdrawBtnClass="poolWithdrawBtnSelected"),t.liquidity=Object(i["transformationNumber"])(n._currentStaked,4,t.pool.stakeDecimals?t.pool.stakeDecimals:18),s=n._stakeToken,o=n._rewardToken,a.next=17,t.getApr(s,o,t.pool.basePath);case 17:return c=a.sent,t.apr=0==t.liquidity?0:(365*n._rewardPerBlock*24*60*60*100*c/(t.liquidity*Math.pow(10,t.pool.stakeDecimals?t.pool.stakeDecimals:18)*3.2)).toFixed(2),t.stakeTokenContract=new t.$web3Obj.web3.eth.Contract(t.$config.abi.token,n._stakeToken),a.next=22,t.updateBalance();case 22:t.getAllow();case 23:case"end":return a.stop()}}),a)})))()},getAllow:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.stakeTokenContract.methods.allowance(e.$web3Obj.currentAddress,e.contractAddress).call();case 2:a=t.sent,Number(a)>e.balance*Math.pow(10,e.pool.stakeDecimals?e.pool.stakeDecimals:18)?e.poolConfirm="Confirm":e.poolConfirm="Approve";case 4:case"end":return t.stop()}}),t)})))()},getApr:function(e,t,a){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var s,o,c,i,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=0,o=0,n.prev=2,c=new r.$web3Obj.web3.eth.Contract(r.$config.abi.router,r.$config.project.network[r.$route.query.network].router),e.toLowerCase()!==a.toLowerCase()){n.next=8;break}s=Math.pow(10,18),n.next=12;break;case 8:return n.next=10,c.methods.getAmountsOut(Math.pow(10,18).toString(),[e,a]).call();case 10:i=n.sent,s=i[i.length-1];case 12:if(t.toLowerCase()!==a.toLowerCase()){n.next=16;break}s=Math.pow(10,18),n.next=20;break;case 16:return n.next=18,c.methods.getAmountsOut(Math.pow(10,18).toString(),[t,a]).call();case 18:l=n.sent,o=l[l.length-1];case 20:n.next=25;break;case 22:n.prev=22,n.t0=n["catch"](2),console.log(n.t0);case 25:if(0!==s){n.next=27;break}return n.abrupt("return",0);case 27:return n.abrupt("return",o/s);case 28:case"end":return n.stop()}}),n,null,[[2,22]])})))()},withdraw:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.withdrawable){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,c["a"].contractSend(e.poolContract.methods.withdraw().send({from:e.$web3Obj.currentAddress,value:0}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),Object(o["a"])("Withdrawable : fail");case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()},add:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.confirmNum=0,e.addclass="selected",e.removeclass="noselected margin-left-4",e.updateBalance();case 4:case"end":return t.stop()}}),t)})))()},remove:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.confirmNum=0,e.addclass="noselected",e.removeclass="selected margin-left-4",t.next=5,e.updateBalance();case 5:"0xDd07987F56695DD1A685CA5D15f6F9a4863af048"===e.contractAddress&&(e.confirmNum=e.balance,e.poolConfirm="Confirm");case 6:case"end":return t.stop()}}),t)})))()},updateBalance:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.balance=0,"selected"!=e.addclass){t.next=7;break}return t.next=4,e.stakeTokenContract.methods.balanceOf(e.$web3Obj.currentAddress).call();case 4:a=t.sent,t.next=11;break;case 7:return t.next=9,e.poolContract.methods.getUserInfo(e.$web3Obj.currentAddress).call();case 9:r=t.sent,a=r._currentStaked;case 11:e.balance=Object(i["transformationNumber"])(a,18,e.pool.stakeDecimals?e.pool.stakeDecimals:18);case 12:case"end":return t.stop()}}),t)})))()},approve:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.contractAddress,new l(10).pow(40)),t.next=4,c["a"].contractSend(e.stakeTokenContract.methods.approve(e.contractAddress,new l(10).pow(40).toString()).send({from:e.$web3Obj.currentAddress,value:0}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(o["a"])("stake token approve : fail");case 9:e.getAllow();case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},staking:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("selected"!=e.addclass||1!=e.pool.status){t.next=3;break}return Object(o["a"])("this contract has paused!"),t.abrupt("return");case 3:if(!(e.confirmNum<=0)){t.next=8;break}return a="add : 0","selected"!=e.addclass&&(a="remove : 0"),Object(o["a"])(a),t.abrupt("return");case 8:if(!(Number(e.confirmNum)>Number(e.balance))){t.next=11;break}return Object(o["a"])("no enough balance"),t.abrupt("return");case 11:return t.prev=11,r=new l(e.confirmNum).multipliedBy(new l(10).pow(e.pool.stakeDecimals?e.pool.stakeDecimals:18)),t.next=15,e.poolContract.methods.getUserInfo(e.$web3Obj.currentAddress).call();case 15:return n=t.sent,s=n&&0!=n._currentStaked?new l(n._currentStaked):new l(0),"selected"==e.addclass&&(r=s.plus(r)),"selected"!=e.addclass&&(r=s.minus(r)),"0xDd07987F56695DD1A685CA5D15f6F9a4863af048"===e.contractAddress&&(r="0"),t.next=22,c["a"].contractSend(e.poolContract.methods.stake(r.toString()).send({from:e.$web3Obj.currentAddress,value:0}));case 22:e.getPoolUserData(e.contractAddress),t.next=31;break;case 25:t.prev=25,t.t0=t["catch"](11),console.error(t.t0),i="add : fail","selected"!=e.addclass&&(i="remove : fail"),Object(o["a"])(i);case 31:case"end":return t.stop()}}),t,null,[[11,25]])})))()},max:function(){0!=this.balance&&(this.confirmNum=this.balance)}},watch:{confirmNum:function(e,t){"selected"==this.addclass&&this.getAllow()}}},d=u,p=(a("c106"),a("2877")),m=Object(p["a"])(d,r,n,!1,null,"0735e03e",null);t["default"]=m.exports}}]);